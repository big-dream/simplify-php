<?php

use bigDream\simplify\Simplify;

$points = array(
	array('x'=>224.55,'y'=>250.15),array('x'=>226.91,'y'=>244.19),array('x'=>233.31,'y'=>241.45),array('x'=>234.98,'y'=>236.06),
	array('x'=>244.21,'y'=>232.76),array('x'=>262.59,'y'=>215.31),array('x'=>267.76,'y'=>213.81),array('x'=>273.57,'y'=>201.84),
	array('x'=>273.12,'y'=>192.16),array('x'=>277.62,'y'=>189.03),array('x'=>280.36,'y'=>181.41),array('x'=>286.51,'y'=>177.74),
	array('x'=>292.41,'y'=>159.37),array('x'=>296.91,'y'=>155.64),array('x'=>314.95,'y'=>151.37),array('x'=>319.75,'y'=>145.16),
	array('x'=>330.33,'y'=>137.57),array('x'=>341.48,'y'=>139.96),array('x'=>369.98,'y'=>137.89),array('x'=>387.39,'y'=>142.51),
	array('x'=>391.28,'y'=>139.39),array('x'=>409.52,'y'=>141.14),array('x'=>414.82,'y'=>139.75),array('x'=>427.72,'y'=>127.30),
	array('x'=>439.60,'y'=>119.74),array('x'=>474.93,'y'=>107.87),array('x'=>486.51,'y'=>106.75),array('x'=>489.20,'y'=>109.45),
	array('x'=>493.79,'y'=>108.63),array('x'=>504.74,'y'=>119.66),array('x'=>512.96,'y'=>122.35),array('x'=>518.63,'y'=>120.89),
	array('x'=>524.09,'y'=>126.88),array('x'=>529.57,'y'=>127.86),array('x'=>534.21,'y'=>140.93),array('x'=>539.27,'y'=>147.24),
	array('x'=>567.69,'y'=>148.91),array('x'=>575.25,'y'=>157.26),array('x'=>580.62,'y'=>158.15),array('x'=>601.53,'y'=>156.85),
	array('x'=>617.74,'y'=>159.86),array('x'=>622.00,'y'=>167.04),array('x'=>629.55,'y'=>194.60),array('x'=>638.90,'y'=>195.61),
	array('x'=>641.26,'y'=>200.81),array('x'=>651.77,'y'=>204.56),array('x'=>671.55,'y'=>222.55),array('x'=>683.68,'y'=>217.45),
	array('x'=>695.25,'y'=>219.15),array('x'=>700.64,'y'=>217.98),array('x'=>703.12,'y'=>214.36),array('x'=>712.26,'y'=>215.87),
	array('x'=>721.49,'y'=>212.81),array('x'=>727.81,'y'=>213.36),array('x'=>729.98,'y'=>208.73),array('x'=>735.32,'y'=>208.20),
	array('x'=>739.94,'y'=>204.77),array('x'=>769.98,'y'=>208.42),array('x'=>779.60,'y'=>216.87),array('x'=>784.20,'y'=>218.16),
	array('x'=>800.24,'y'=>214.62),array('x'=>810.53,'y'=>219.73),array('x'=>817.19,'y'=>226.82),array('x'=>820.77,'y'=>236.17),
	array('x'=>827.23,'y'=>236.16),array('x'=>829.89,'y'=>239.89),array('x'=>851.00,'y'=>248.94),array('x'=>859.88,'y'=>255.49),
	array('x'=>865.21,'y'=>268.53),array('x'=>857.95,'y'=>280.30),array('x'=>865.48,'y'=>291.45),array('x'=>866.81,'y'=>298.66),
	array('x'=>864.68,'y'=>302.71),array('x'=>867.79,'y'=>306.17),array('x'=>859.87,'y'=>311.37),array('x'=>860.08,'y'=>314.35),
	array('x'=>858.29,'y'=>314.94),array('x'=>858.10,'y'=>327.60),array('x'=>854.54,'y'=>335.40),array('x'=>860.92,'y'=>343.00),
	array('x'=>856.43,'y'=>350.15),array('x'=>851.42,'y'=>352.96),array('x'=>849.84,'y'=>359.59),array('x'=>854.56,'y'=>365.53),
	array('x'=>849.74,'y'=>370.38),array('x'=>844.09,'y'=>371.89),array('x'=>844.75,'y'=>380.44),array('x'=>841.52,'y'=>383.67),
	array('x'=>839.57,'y'=>390.40),array('x'=>845.59,'y'=>399.05),array('x'=>848.40,'y'=>407.55),array('x'=>843.71,'y'=>411.30),
	array('x'=>844.09,'y'=>419.88),array('x'=>839.51,'y'=>432.76),array('x'=>841.33,'y'=>441.04),array('x'=>847.62,'y'=>449.22),
	array('x'=>847.16,'y'=>458.44),array('x'=>851.38,'y'=>462.79),array('x'=>853.97,'y'=>471.15),array('x'=>866.36,'y'=>480.77)
);

$simplified = array(
	array('x'=>224.55,'y'=>250.15),array('x'=>267.76,'y'=>213.81),array('x'=>296.91,'y'=>155.64),array('x'=>330.33,'y'=>137.57),
	array('x'=>409.52,'y'=>141.14),array('x'=>439.60,'y'=>119.74),array('x'=>486.51,'y'=>106.75),array('x'=>529.57,'y'=>127.86),
	array('x'=>539.27,'y'=>147.24),array('x'=>617.74,'y'=>159.86),array('x'=>629.55,'y'=>194.60),array('x'=>671.55,'y'=>222.55),
	array('x'=>727.81,'y'=>213.36),array('x'=>739.94,'y'=>204.77),array('x'=>769.98,'y'=>208.42),array('x'=>779.60,'y'=>216.87),
	array('x'=>800.24,'y'=>214.62),array('x'=>820.77,'y'=>236.17),array('x'=>859.88,'y'=>255.49),array('x'=>865.21,'y'=>268.53),
	array('x'=>857.95,'y'=>280.30),array('x'=>867.79,'y'=>306.17),array('x'=>859.87,'y'=>311.37),array('x'=>854.54,'y'=>335.40),
	array('x'=>860.92,'y'=>343.00),array('x'=>849.84,'y'=>359.59),array('x'=>854.56,'y'=>365.53),array('x'=>844.09,'y'=>371.89),
	array('x'=>839.57,'y'=>390.40),array('x'=>848.40,'y'=>407.55),array('x'=>839.51,'y'=>432.76),array('x'=>853.97,'y'=>471.15),
	array('x'=>866.36,'y'=>480.77)
);


// TODO PHPUnit
echo serialize($simplified) == serialize((new Simplify)->run($points, 5)) ? 'pass' : 'fail';
echo PHP_EOL;
